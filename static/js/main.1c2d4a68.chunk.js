(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(4),i=t.n(c),s=(t(9),t(10),t(11),t(2));function o(e,n,t,r,a,c){if(!(e<0||n<0||e===a||n===r)){var i=e*r+n;if(1!==t[i]&&(t[i]=1,!(c[i]>0)))for(var s=-1;s<2;s++)for(var l=-1;l<2;l++)o(e+s,n+l,t,r,a,c)}}var l=t.p+"static/media/bomb.cffe0f47.svg",u=t.p+"static/media/red-flag.083d31fd.svg",f=t(0),d=function(e){var n=e.data,t=n.height,c=n.width,i=n.minesCount,d=a.a.useState([]),j=Object(s.a)(d,2),v=j[0],h=j[1],b=a.a.useState([]),m=Object(s.a)(b,2),O=m[0],p=m[1],x=a.a.useState([]),g=Object(s.a)(x,2),w=g[0],N=g[1],S=a.a.useState([]),y=Object(s.a)(S,2),C=y[0],A=y[1],M=a.a.useState(!1),T=Object(s.a)(M,2),k=T[0],F=T[1],D=a.a.useState(0),E=Object(s.a)(D,2),B=E[0],G=E[1],I=a.a.useState(!1),J=Object(s.a)(I,2),L=(J[0],J[1]),P=Object(r.useRef)(),Y=function(e,n){if(!k){var r=e*c+n;if(1!==O[r]&&1!==v[r]){if(C[r]){var a=O.slice(0);return a[r]=1,p(a),void F(!0)}if(w[r]>0){var i=O.slice(0);return i[r]=1,void p(i)}var s=O.slice(0);o(e,n,s,c,t,w),p(s)}}};a.a.useEffect((function(){for(var e=c*t,n=new Array(e).fill(0),r=0;r<i;r++)n[r]=1;!function(e,n){for(var t=1;t<e.length;t++){var r=Math.floor(Math.random()*(t+1)),a=e[r];e[r]=e[t],e[t]=a}}(n);var a=function(e,n,t){for(var r=new Array(t.length).fill(0),a=0;a<r.length;a++)if(t[a])for(var c=a%e,i=(a-c)/e,s=-1;s<2;s++){var o=i+s;if(!(o<0||o===n))for(var l=-1;l<2;l++){var u=c+l;u<0||u===e||r[o*e+u]++}}return r}(c,t,n);p(new Array(e).fill(0)),h(new Array(e).fill(0)),N(a),A(n),F(!1),G(0)}),[t,c,i]),a.a.useEffect((function(){B===i&&(C.every((function(e,n){return!!(e&&1===v[n]||!e&&1!==v[n])}))&&F(!0))}),[B]);for(var R=[],q=function(e){for(var n=[],t=function(t){var r=e*c+t,a=null;1===v[r]?a=Object(f.jsx)("span",{className:"each-cell",id:"mark-1",style:{color:"red"},children:Object(f.jsx)("img",{src:u,alt:"red flag"})}):1===O[r]&&(C[r]?a=Object(f.jsx)("span",{className:"each-cell",id:"mine-1",children:Object(f.jsx)("img",{src:l,alt:"bomb"})}):w[r]>0&&(a=Object(f.jsx)("span",{id:"no-mine-1",children:w[r]})));n.push(Object(f.jsx)("div",{className:"mine-sweeper-item ".concat(O[r]?"is-open":""),onClick:function(){return Y(e,t)},onTouchStart:function(e){e.preventDefault(),P.current=setTimeout((function(){L(!0)}),500)},onContextMenu:function(n){return function(e,n){if(!k){var t=e*c+n;if(1!==O[t]){var r=v.slice(0);r[t]=(r[t]+1)%2;var a=B;r[t]?a++:a--,h(r),G(a)}}}(e,t)},children:a},t))},r=0;r<c;r++)t(r);R.push(Object(f.jsx)("div",{className:"mine-sweeper-row",children:n},e))},z=0;z<t;z++)q(z);return Object(f.jsxs)("div",{className:"mine-sweeper-container",onContextMenu:function(e){return e.preventDefault()},children:[R.map((function(e){return e})),Object(f.jsxs)("div",{className:"panel-container",children:[Object(f.jsxs)("div",{className:"panel-data-container",children:[Object(f.jsxs)("div",{children:["selected: ",B]}),Object(f.jsxs)("div",{children:["Total mines: ",i]})]}),Object(f.jsxs)("div",{className:"result-container",children:[k?Object(f.jsx)("div",{children:"Game over"}):Object(f.jsx)("div",{children:"Game in progress"}),k?v.length===C.length&&v.every((function(e,n){return e===C[n]}))?Object(f.jsx)("div",{children:"You won"}):Object(f.jsx)("div",{children:"You lost"}):null]})]})]})},j=function(e){return Object(f.jsx)("div",{className:"board-container",children:Object(f.jsx)(d,{data:e})})};var v=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("div",{className:"app-main",children:Object(f.jsx)(j,{height:8,width:8,minesCount:10})})})},h=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,14)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),h()}],[[13,1,2]]]);
//# sourceMappingURL=main.1c2d4a68.chunk.js.map