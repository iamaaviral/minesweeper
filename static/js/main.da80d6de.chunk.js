(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(4),i=t.n(a),s=(t(9),t(10),t(11),t(2));function o(e,n,t,r,c,a){if(!(e<0||n<0||e===c||n===r)){var i=e*r+n;if(1!==t[i]&&(t[i]=1,!(a[i]>0)))for(var s=-1;s<2;s++)for(var l=-1;l<2;l++)o(e+s,n+l,t,r,c,a)}}var l=t.p+"static/media/bomb.cffe0f47.svg",u=t.p+"static/media/red-flag.083d31fd.svg",f=t(0),d=function(e){var n=e.data,t=n.height,a=n.width,i=n.minesCount,d=c.a.useState([]),j=Object(s.a)(d,2),v=j[0],h=j[1],b=c.a.useState([]),m=Object(s.a)(b,2),O=m[0],p=m[1],x=c.a.useState([]),g=Object(s.a)(x,2),w=g[0],N=g[1],S=c.a.useState([]),y=Object(s.a)(S,2),C=y[0],A=y[1],M=c.a.useState(!1),T=Object(s.a)(M,2),k=T[0],F=T[1],E=c.a.useState(0),B=Object(s.a)(E,2),D=B[0],G=B[1],I=c.a.useState(!1),J=Object(s.a)(I,2),L=(J[0],J[1]),P=Object(r.useRef)(),Y=function(e,n){if(!k){var r=e*a+n;if(1!==O[r]&&1!==v[r]){if(C[r]){var c=O.slice(0);return c[r]=1,p(c),void F(!0)}if(w[r]>0){var i=O.slice(0);return i[r]=1,void p(i)}var s=O.slice(0);o(e,n,s,a,t,w),p(s)}}};c.a.useEffect((function(){for(var e=a*t,n=new Array(e).fill(0),r=0;r<i;r++)n[r]=1;!function(e,n){for(var t=1;t<e.length;t++){var r=Math.floor(Math.random()*(t+1)),c=e[r];e[r]=e[t],e[t]=c}}(n);var c=function(e,n,t){for(var r=new Array(t.length).fill(0),c=0;c<r.length;c++)if(t[c])for(var a=c%e,i=(c-a)/e,s=-1;s<2;s++){var o=i+s;if(!(o<0||o===n))for(var l=-1;l<2;l++){var u=a+l;u<0||u===e||r[o*e+u]++}}return r}(a,t,n);p(new Array(e).fill(0)),h(new Array(e).fill(0)),N(c),A(n),F(!1),G(0)}),[t,a,i]),c.a.useEffect((function(){D===i&&(C.every((function(e,n){return!!(e&&1===v[n]||!e&&1!==v[n])}))&&F(!0))}),[D]);for(var R=[],q=function(e){for(var n=[],t=function(t){var r=e*a+t,c=null;1===v[r]?c=Object(f.jsx)("span",{className:"each-cell",id:"mark-1",style:{color:"red"},children:Object(f.jsx)("img",{src:u,alt:"red flag"})}):1===O[r]&&(C[r]?c=Object(f.jsx)("span",{className:"each-cell",id:"mine-1",children:Object(f.jsx)("img",{src:l,alt:"bomb"})}):w[r]>0&&(c=Object(f.jsx)("span",{id:"no-mine-1",children:w[r]})));n.push(Object(f.jsx)("div",{className:"mine-sweeper-item ".concat(O[r]?"is-open":""),onClick:function(){return Y(e,t)},onTouchStart:function(){P.current=setTimeout((function(){L(!0)}),500)},onContextMenu:function(n){return function(e,n){if(!k){var t=e*a+n;if(1!==O[t]){var r=v.slice(0);r[t]=(r[t]+1)%2;var c=D;r[t]?c++:c--,h(r),G(c)}}}(e,t)},children:c},t))},r=0;r<a;r++)t(r);R.push(Object(f.jsx)("div",{className:"mine-sweeper-row",children:n},e))},z=0;z<t;z++)q(z);return Object(f.jsxs)("div",{className:"mine-sweeper-container",onContextMenu:function(e){return e.preventDefault()},children:[R.map((function(e){return e})),Object(f.jsxs)("div",{className:"panel-container",children:[Object(f.jsxs)("div",{className:"panel-data-container",children:[Object(f.jsxs)("div",{children:["selected: ",D]}),Object(f.jsxs)("div",{children:["Total mines: ",i]})]}),Object(f.jsxs)("div",{className:"result-container",children:[k?Object(f.jsx)("div",{children:"Game over"}):Object(f.jsx)("div",{children:"Game in progress"}),k?v.length===C.length&&v.every((function(e,n){return e===C[n]}))?Object(f.jsx)("div",{children:"You won"}):Object(f.jsx)("div",{children:"You lost"}):null]})]})]})},j=function(e){return Object(f.jsx)("div",{className:"board-container",children:Object(f.jsx)(d,{data:e})})};var v=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("div",{className:"app-main",children:Object(f.jsx)(j,{height:8,width:8,minesCount:10})})})},h=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,14)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),h()}],[[13,1,2]]]);
//# sourceMappingURL=main.da80d6de.chunk.js.map